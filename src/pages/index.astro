---
import DefaultLayout from "../layouts/DefaultLayout.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
const topPosts = posts.slice(0, 3);
---

<DefaultLayout title="Home">
  <section class="margin-48">
    <div class="container">
      <h1>Blog</h1><br />
    </div>
  </section>
  <section class="padding-48 color-primary">
    <div class="container">
      <h2 class="margin-16 bottom">Blog Posts</h2>
    </div>
    <div class="container" data-auto-grid={topPosts.length}>
      {
        topPosts.map((post, index) => {
          return (
            <div
              class="text-neutral-100 bg-neutral-900 space-32 radius-large elevation-500"
              data-animation="fade-in" data-animation-delay={`${index * 0.25}s`}
            >
              <h3>{post.data.title}</h3>
              <p>
                {post.data.title}
              </p>
            </div>
          );
        })
      }
    </div>
    <div class="container margin-16 top">
      <a href="#" class="button">Tab to me first!</a>&nbsp;
      <a href="#" class="button color-secondary">Then it's my turn</a>
    </div>
  </section>
  <section class="margin-64">
    <div class="container">
      <div class="grid">
        <div class="small-12">
          <h2>12 Column Grid</h2>
        </div>
        <div class="small-12 medium-3 space-content">
          <h3>Sidebar</h3>
          <ul>
            <li>Lorem ipsum dolor sit amet.</li>
            <li>Lorem ipsum dolor sit amet.</li>
            <li>Lorem ipsum dolor sit amet.</li>
            <li>Lorem ipsum dolor sit amet.</li>
          </ul>
        </div>
        <div class="small-12 medium-8 offset-medium-4 space-content">
          <h3>Main</h3>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi
            mollitia alias sunt accusamus reiciendis fuga delectus, repellendus
            molestiae dolore illo iusto eligendi eaque qui hic facilis
            assumenda! Velit, minus, nobis. <strong
              ><a href="#">And lastly tab to me</a></strong
            >.
          </p>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi
            mollitia alias sunt accusamus reiciendis fuga delectus, repellendus
            molestiae dolore illo iusto eligendi eaque qui hic facilis
            assumenda! Velit, minus, nobis.
          </p>
        </div>
      </div>
    </div>
  </section>
</DefaultLayout>
